/* Accessibility Improvements - WCAG 2.1 AA Compliant */

/* Skip Links */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.sr-only:focus,
.focus\:not-sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: 0.5rem 1rem;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Focus indicators for better keyboard navigation */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
  box-shadow: 0 0 0 2px rgba(255, 102, 0, 0.2);
}

/* High contrast improvements */
.text-muted-foreground {
  color: hsl(240 5% 26%); /* Improved contrast from default muted */
}

.text-muted-foreground.dark {
  color: hsl(240 5% 84%); /* Dark mode improvement */
}

/* Button contrast improvements */
.btn-secondary {
  background-color: hsl(240 6% 25%);
  color: hsl(0 0% 98%);
  border: 1px solid hsl(240 6% 25%);
}

.btn-secondary:hover {
  background-color: hsl(240 6% 20%);
  color: hsl(0 0% 100%);
}

/* Link improvements */
a:not(.btn):not(.button) {
  text-decoration: underline;
  text-underline-offset: 2px;
}

a:not(.btn):not(.button):hover {
  text-decoration-thickness: 2px;
}

/* Improved placeholder contrast */
input::placeholder,
textarea::placeholder {
  color: hsl(240 5% 40%);
  opacity: 1;
}

/* Better form label association and visibility */
label {
  font-weight: 500;
  color: hsl(240 10% 15%);
}

/* Error states with better contrast */
.error-text {
  color: hsl(0 84% 35%); /* Better contrast than standard red */
}

.error-border {
  border-color: hsl(0 84% 35%);
}

/* Success states */
.success-text {
  color: hsl(120 45% 25%); /* Better contrast than standard green */
}

.success-border {
  border-color: hsl(120 45% 25%);
}

/* Warning states */
.warning-text {
  color: hsl(45 95% 25%); /* Better contrast than standard yellow */
}

.warning-border {
  border-color: hsl(45 95% 25%);
}

/* Card and container improvements */
.card {
  border: 1px solid hsl(240 6% 85%);
}

.card:focus-within {
  border-color: hsl(var(--primary));
  box-shadow: 0 0 0 1px hsl(var(--primary) / 0.2);
}

/* Navigation improvements */
nav a:focus-visible,
nav button:focus-visible {
  background-color: hsl(var(--primary) / 0.1);
  border-radius: 4px;
}

/* Mobile menu improvements */
.mobile-menu {
  border-top: 2px solid hsl(var(--primary));
}

/* Dropdown improvements */
[role="menu"],
[role="listbox"] {
  border: 2px solid hsl(240 6% 85%);
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
}

[role="menuitem"]:focus,
[role="option"]:focus {
  background-color: hsl(var(--primary) / 0.1);
  outline: none;
}

/* Loading states */
[aria-live] {
  font-weight: 500;
}

/* Animation preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .text-muted-foreground {
    color: hsl(240 10% 10%);
  }

  button,
  .btn {
    border: 2px solid currentColor;
  }

  a:not(.btn):not(.button) {
    text-decoration-thickness: 2px;
  }

  .card,
  .border {
    border-width: 2px;
  }
}

/* Dark mode high contrast */
@media (prefers-color-scheme: dark) and (prefers-contrast: high) {
  .text-muted-foreground {
    color: hsl(240 5% 90%);
  }
}

/* Touch target improvements for mobile */
@media (pointer: coarse) {
  button,
  a,
  input,
  select,
  textarea,
  [tabindex] {
    min-height: 44px;
    min-width: 44px;
  }

  button:not([class*="icon"]),
  .btn:not([class*="icon"]) {
    padding: 12px 16px;
  }
}

/* Ensure sufficient spacing between interactive elements */
button + button,
a + a,
button + a,
a + button {
  margin-left: 8px;
}

/* Better table accessibility */
table {
  border-collapse: collapse;
}

th {
  font-weight: 600;
  text-align: left;
  border-bottom: 2px solid hsl(240 6% 85%);
}

td {
  border-bottom: 1px solid hsl(240 6% 90%);
}

/* Form grouping improvements */
fieldset {
  border: 2px solid hsl(240 6% 85%);
  border-radius: 6px;
  padding: 16px;
  margin: 16px 0;
}

legend {
  font-weight: 600;
  padding: 0 8px;
}

/* Status and alert improvements */
[role="alert"],
[role="status"] {
  padding: 12px 16px;
  border-radius: 6px;
  border-left: 4px solid;
  font-weight: 500;
}

[role="alert"] {
  border-left-color: hsl(0 84% 35%);
  background-color: hsl(0 84% 95%);
  color: hsl(0 84% 25%);
}

[role="status"] {
  border-left-color: hsl(120 45% 35%);
  background-color: hsl(120 45% 95%);
  color: hsl(120 45% 25%);
}